#!/bin/sh

set -e

git pull --rebase $@

# show diffstat of all changes
echo "Diff:"
git --no-pager diff --color --stat HEAD@{1}.. |
sed 's/^/ /'

# show an abbreviated commit log of stuff that was just merged
echo "Log:"
git log --color --pretty=oneline --abbrev-commit HEAD@{1}.. |
sed 's/^/  /'